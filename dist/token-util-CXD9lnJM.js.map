{"version":3,"file":"token-util-CXD9lnJM.js","names":["__create","__defProp","__getOwnPropDesc","__getOwnPropNames","__getProtoOf","__hasOwnProp","__export","__copyProps","__toESM","__toCommonJS","import_os","import_token_error","__create","__defProp","__getOwnPropDesc","__getOwnPropNames","__getProtoOf","__hasOwnProp","__export","__copyProps","__toESM","__toCommonJS","fs","path","__defProp","__getOwnPropDesc","__getOwnPropNames","__hasOwnProp","__export","__copyProps","__toCommonJS"],"sources":["../node_modules/.pnpm/@vercel+oidc@3.1.0/node_modules/@vercel/oidc/dist/token-io.js","../node_modules/.pnpm/@vercel+oidc@3.1.0/node_modules/@vercel/oidc/dist/auth-config.js","../node_modules/.pnpm/@vercel+oidc@3.1.0/node_modules/@vercel/oidc/dist/oauth.js","../node_modules/.pnpm/@vercel+oidc@3.1.0/node_modules/@vercel/oidc/dist/token-util.js"],"sourcesContent":["\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar token_io_exports = {};\n__export(token_io_exports, {\n  findRootDir: () => findRootDir,\n  getUserDataDir: () => getUserDataDir\n});\nmodule.exports = __toCommonJS(token_io_exports);\nvar import_path = __toESM(require(\"path\"));\nvar import_fs = __toESM(require(\"fs\"));\nvar import_os = __toESM(require(\"os\"));\nvar import_token_error = require(\"./token-error\");\nfunction findRootDir() {\n  try {\n    let dir = process.cwd();\n    while (dir !== import_path.default.dirname(dir)) {\n      const pkgPath = import_path.default.join(dir, \".vercel\");\n      if (import_fs.default.existsSync(pkgPath)) {\n        return dir;\n      }\n      dir = import_path.default.dirname(dir);\n    }\n  } catch (e) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Token refresh only supported in node server environments\"\n    );\n  }\n  return null;\n}\nfunction getUserDataDir() {\n  if (process.env.XDG_DATA_HOME) {\n    return process.env.XDG_DATA_HOME;\n  }\n  switch (import_os.default.platform()) {\n    case \"darwin\":\n      return import_path.default.join(import_os.default.homedir(), \"Library/Application Support\");\n    case \"linux\":\n      return import_path.default.join(import_os.default.homedir(), \".local/share\");\n    case \"win32\":\n      if (process.env.LOCALAPPDATA) {\n        return process.env.LOCALAPPDATA;\n      }\n      return null;\n    default:\n      return null;\n  }\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  findRootDir,\n  getUserDataDir\n});\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar auth_config_exports = {};\n__export(auth_config_exports, {\n  isValidAccessToken: () => isValidAccessToken,\n  readAuthConfig: () => readAuthConfig,\n  writeAuthConfig: () => writeAuthConfig\n});\nmodule.exports = __toCommonJS(auth_config_exports);\nvar fs = __toESM(require(\"fs\"));\nvar path = __toESM(require(\"path\"));\nvar import_token_util = require(\"./token-util\");\nfunction getAuthConfigPath() {\n  const dataDir = (0, import_token_util.getVercelDataDir)();\n  if (!dataDir) {\n    throw new Error(\n      `Unable to find Vercel CLI data directory. Your platform: ${process.platform}. Supported: darwin, linux, win32.`\n    );\n  }\n  return path.join(dataDir, \"auth.json\");\n}\nfunction readAuthConfig() {\n  try {\n    const authPath = getAuthConfigPath();\n    if (!fs.existsSync(authPath)) {\n      return null;\n    }\n    const content = fs.readFileSync(authPath, \"utf8\");\n    if (!content) {\n      return null;\n    }\n    return JSON.parse(content);\n  } catch (error) {\n    return null;\n  }\n}\nfunction writeAuthConfig(config) {\n  const authPath = getAuthConfigPath();\n  const authDir = path.dirname(authPath);\n  if (!fs.existsSync(authDir)) {\n    fs.mkdirSync(authDir, { mode: 504, recursive: true });\n  }\n  fs.writeFileSync(authPath, JSON.stringify(config, null, 2), { mode: 384 });\n}\nfunction isValidAccessToken(authConfig) {\n  if (!authConfig.token)\n    return false;\n  if (typeof authConfig.expiresAt !== \"number\")\n    return true;\n  const nowInSeconds = Math.floor(Date.now() / 1e3);\n  return authConfig.expiresAt >= nowInSeconds;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  isValidAccessToken,\n  readAuthConfig,\n  writeAuthConfig\n});\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar oauth_exports = {};\n__export(oauth_exports, {\n  processTokenResponse: () => processTokenResponse,\n  refreshTokenRequest: () => refreshTokenRequest\n});\nmodule.exports = __toCommonJS(oauth_exports);\nvar import_os = require(\"os\");\nconst VERCEL_ISSUER = \"https://vercel.com\";\nconst VERCEL_CLI_CLIENT_ID = \"cl_HYyOPBNtFMfHhaUn9L4QPfTZz6TP47bp\";\nconst userAgent = `@vercel/oidc node-${process.version} ${(0, import_os.platform)()} (${(0, import_os.arch)()}) ${(0, import_os.hostname)()}`;\nlet _tokenEndpoint = null;\nasync function getTokenEndpoint() {\n  if (_tokenEndpoint) {\n    return _tokenEndpoint;\n  }\n  const discoveryUrl = `${VERCEL_ISSUER}/.well-known/openid-configuration`;\n  const response = await fetch(discoveryUrl, {\n    headers: { \"user-agent\": userAgent }\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to discover OAuth endpoints\");\n  }\n  const metadata = await response.json();\n  if (!metadata || typeof metadata.token_endpoint !== \"string\") {\n    throw new Error(\"Invalid OAuth discovery response\");\n  }\n  const endpoint = metadata.token_endpoint;\n  _tokenEndpoint = endpoint;\n  return endpoint;\n}\nasync function refreshTokenRequest(options) {\n  const tokenEndpoint = await getTokenEndpoint();\n  return await fetch(tokenEndpoint, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      \"user-agent\": userAgent\n    },\n    body: new URLSearchParams({\n      client_id: VERCEL_CLI_CLIENT_ID,\n      grant_type: \"refresh_token\",\n      ...options\n    })\n  });\n}\nasync function processTokenResponse(response) {\n  const json = await response.json();\n  if (!response.ok) {\n    const errorMsg = typeof json === \"object\" && json && \"error\" in json ? String(json.error) : \"Token refresh failed\";\n    return [new Error(errorMsg)];\n  }\n  if (typeof json !== \"object\" || json === null) {\n    return [new Error(\"Invalid token response\")];\n  }\n  if (typeof json.access_token !== \"string\") {\n    return [new Error(\"Missing access_token in response\")];\n  }\n  if (json.token_type !== \"Bearer\") {\n    return [new Error(\"Invalid token_type in response\")];\n  }\n  if (typeof json.expires_in !== \"number\") {\n    return [new Error(\"Missing expires_in in response\")];\n  }\n  return [null, json];\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  processTokenResponse,\n  refreshTokenRequest\n});\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar token_util_exports = {};\n__export(token_util_exports, {\n  assertVercelOidcTokenResponse: () => assertVercelOidcTokenResponse,\n  findProjectInfo: () => findProjectInfo,\n  getTokenPayload: () => getTokenPayload,\n  getVercelCliToken: () => getVercelCliToken,\n  getVercelDataDir: () => getVercelDataDir,\n  getVercelOidcToken: () => getVercelOidcToken,\n  isExpired: () => isExpired,\n  loadToken: () => loadToken,\n  saveToken: () => saveToken\n});\nmodule.exports = __toCommonJS(token_util_exports);\nvar path = __toESM(require(\"path\"));\nvar fs = __toESM(require(\"fs\"));\nvar import_token_error = require(\"./token-error\");\nvar import_token_io = require(\"./token-io\");\nvar import_auth_config = require(\"./auth-config\");\nvar import_oauth = require(\"./oauth\");\nfunction getVercelDataDir() {\n  const vercelFolder = \"com.vercel.cli\";\n  const dataDir = (0, import_token_io.getUserDataDir)();\n  if (!dataDir) {\n    return null;\n  }\n  return path.join(dataDir, vercelFolder);\n}\nasync function getVercelCliToken() {\n  const authConfig = (0, import_auth_config.readAuthConfig)();\n  if (!authConfig) {\n    return null;\n  }\n  if ((0, import_auth_config.isValidAccessToken)(authConfig)) {\n    return authConfig.token || null;\n  }\n  if (!authConfig.refreshToken) {\n    (0, import_auth_config.writeAuthConfig)({});\n    return null;\n  }\n  try {\n    const tokenResponse = await (0, import_oauth.refreshTokenRequest)({\n      refresh_token: authConfig.refreshToken\n    });\n    const [tokensError, tokens] = await (0, import_oauth.processTokenResponse)(tokenResponse);\n    if (tokensError || !tokens) {\n      (0, import_auth_config.writeAuthConfig)({});\n      return null;\n    }\n    const updatedConfig = {\n      token: tokens.access_token,\n      expiresAt: Math.floor(Date.now() / 1e3) + tokens.expires_in\n    };\n    if (tokens.refresh_token) {\n      updatedConfig.refreshToken = tokens.refresh_token;\n    }\n    (0, import_auth_config.writeAuthConfig)(updatedConfig);\n    return updatedConfig.token ?? null;\n  } catch (error) {\n    (0, import_auth_config.writeAuthConfig)({});\n    return null;\n  }\n}\nasync function getVercelOidcToken(authToken, projectId, teamId) {\n  const url = `https://api.vercel.com/v1/projects/${projectId}/token?source=vercel-oidc-refresh${teamId ? `&teamId=${teamId}` : \"\"}`;\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${authToken}`\n    }\n  });\n  if (!res.ok) {\n    throw new import_token_error.VercelOidcTokenError(\n      `Failed to refresh OIDC token: ${res.statusText}`\n    );\n  }\n  const tokenRes = await res.json();\n  assertVercelOidcTokenResponse(tokenRes);\n  return tokenRes;\n}\nfunction assertVercelOidcTokenResponse(res) {\n  if (!res || typeof res !== \"object\") {\n    throw new TypeError(\n      \"Vercel OIDC token is malformed. Expected an object. Please run `vc env pull` and try again\"\n    );\n  }\n  if (!(\"token\" in res) || typeof res.token !== \"string\") {\n    throw new TypeError(\n      \"Vercel OIDC token is malformed. Expected a string-valued token property. Please run `vc env pull` and try again\"\n    );\n  }\n}\nfunction findProjectInfo() {\n  const dir = (0, import_token_io.findRootDir)();\n  if (!dir) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Unable to find project root directory. Have you linked your project with `vc link?`\"\n    );\n  }\n  const prjPath = path.join(dir, \".vercel\", \"project.json\");\n  if (!fs.existsSync(prjPath)) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"project.json not found, have you linked your project with `vc link?`\"\n    );\n  }\n  const prj = JSON.parse(fs.readFileSync(prjPath, \"utf8\"));\n  if (typeof prj.projectId !== \"string\" && typeof prj.orgId !== \"string\") {\n    throw new TypeError(\n      \"Expected a string-valued projectId property. Try running `vc link` to re-link your project.\"\n    );\n  }\n  return { projectId: prj.projectId, teamId: prj.orgId };\n}\nfunction saveToken(token, projectId) {\n  const dir = (0, import_token_io.getUserDataDir)();\n  if (!dir) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Unable to find user data directory. Please reach out to Vercel support.\"\n    );\n  }\n  const tokenPath = path.join(dir, \"com.vercel.token\", `${projectId}.json`);\n  const tokenJson = JSON.stringify(token);\n  fs.mkdirSync(path.dirname(tokenPath), { mode: 504, recursive: true });\n  fs.writeFileSync(tokenPath, tokenJson);\n  fs.chmodSync(tokenPath, 432);\n  return;\n}\nfunction loadToken(projectId) {\n  const dir = (0, import_token_io.getUserDataDir)();\n  if (!dir) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Unable to find user data directory. Please reach out to Vercel support.\"\n    );\n  }\n  const tokenPath = path.join(dir, \"com.vercel.token\", `${projectId}.json`);\n  if (!fs.existsSync(tokenPath)) {\n    return null;\n  }\n  const token = JSON.parse(fs.readFileSync(tokenPath, \"utf8\"));\n  assertVercelOidcTokenResponse(token);\n  return token;\n}\nfunction getTokenPayload(token) {\n  const tokenParts = token.split(\".\");\n  if (tokenParts.length !== 3) {\n    throw new import_token_error.VercelOidcTokenError(\n      \"Invalid token. Please run `vc env pull` and try again\"\n    );\n  }\n  const base64 = tokenParts[1].replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const padded = base64.padEnd(\n    base64.length + (4 - base64.length % 4) % 4,\n    \"=\"\n  );\n  return JSON.parse(Buffer.from(padded, \"base64\").toString(\"utf8\"));\n}\nfunction isExpired(token) {\n  return token.exp * 1e3 < Date.now();\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  assertVercelOidcTokenResponse,\n  findProjectInfo,\n  getTokenPayload,\n  getVercelCliToken,\n  getVercelDataDir,\n  getVercelOidcToken,\n  isExpired,\n  loadToken,\n  saveToken\n});\n"],"x_google_ignoreList":[0,1,2,3],"mappings":"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"}